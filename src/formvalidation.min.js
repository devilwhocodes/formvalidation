!function(r,e,a,t){r(function(){r("form").filter(function(){return r(this).find("[data-formValidate]").length>0}).validateForm()}),r.fn.validateForm=function(e){var a={},t={attrUsed:"data-formValidate",triggerUsed:"blur",focusFirstField:!1,hideErrorOnChange:!0,ajaxMethod:"get",url:"",scroll:"true",custFunc:[],errorHeaderMsg:"Please correct the errors in the form",successHeaderMsg:"Form validation successful"};a=r.extend(t,e);var i=this;return r(i).find("["+a.attrUsed+"]").each(function(e,t){a.hideErrorOnChange?r(t).on(a.triggerUsed,function(r){r.stopImmediatePropagation(),d(t,a)}).on("keyup",function(r){r.stopImmediatePropagation(),o(t)}):r(t).on(a.triggerUsed,function(r){r.stopImmediatePropagation(),d(t,a)})}),r("form").on("click",'.submit,input[type="submit"]',function(e){if(r(i).find("["+a.attrUsed+"]").each(function(r,t){e.stopImmediatePropagation(),d(t,a),""!=a.url&&getAsyncPattern(t,a)}),r(".errorHeader").length>0&&r(".errorHeader").remove(),r(".successHeader").length>0&&r(".successHeader").remove(),r(".error").length>0)var t="<div class='errorHeader'>"+a.errorHeaderMsg+"</div>";else var t="<div class='successHeader'>"+a.successHeaderMsg+"</div>";r("form").before(t)}),this};var i={hasError:!1,mandatoryError:"Please fill the ",fieldError:""};r.fn.addMethod=function(e){return r.extend(r().validationMethods,e),this},r.fn.validationMethods={email:function(e){var a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return r().isInvalid(a,e)},password:function(e){var a=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{6,}$/;return r().isInvalid(a,e)},number:function(e){var a=/^\d+$/;return r().isInvalid(a,e)},telephone:function(e){return r().validationMethods.number(e)||10!=e.length?!0:!1},alphaNumeric:function(e){return r().isInvalid(alphaNumeric,e)},alphaNumericWithSpecialChar:function(e){return r().isInvalid(alphaNumericWithSpecialChar,e)},address:function(e){return r().isInvalid(address,e)},zipcode:function(e){return r().validationMethods.number(e)||6!=e.length?!0:!1},url:function(e){var a=/^(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/;return r().isInvalid(a,e)},ddmmyyyy:function(e){var a=/(^(((0[1-9]|1[0-9]|2[0-8])[- \/ .](0[1-9]|1[012]))|((29|30|31)[- \/ .](0[13578]|1[02]))|((29|30)[- \/ .](0[4,6,9]|11)))[- \/ .](19|[2-9][0-9])\d\d$)|(^29[- \/ .]02[- \/ .](19|[2-9][0-9])(00|04|08|12|16|20|24|28|32|36|40|44|48|52|56|60|64|68|72|76|80|84|88|92|96)$)/;return r().isInvalid(a,e)},mmddyyyy:function(e){return e=n(e),r().validationMethods.ddmmyyyy(e[1]+"/"+e[0]+"/"+e[2])},yyyymmdd:function(e){return e=n(e),r().validationMethods.ddmmyyyy(e[2]+"/"+e[1]+"/"+e[0])},dateRange:function(e){var a,t,n,d;if(r(e).is("[fromdate]")){if(o(e),o(r(e).parents("div, section, li").next().find("[todate]")),n=r(e).val(),d=r(e).parents("div, section, li").next().find("[todate]").val(),""!=n&&""!=d&&(a=r(e).attr("fromdate"),t=r(e).parents("div, section, li").next().find("[todate]").attr("todate"),!r().validationMethods[a](n)&&!r().validationMethods[t](d)))return n=new Date(n),d=new Date(d),n>d?(i.fieldError="From Date cannot be greater than To Date",!0):!1}else if(r(e).is("[todate]")&&(o(e),o(r(e).parents("div, section, li").prev().find("[fromdate]")),n=r(e).val(),d=r(e).parents("div, section, li").prev().find("[fromdate]").val(),""!=n&&""!=d&&(a=r(e).attr("todate"),t=r(e).parents("div, section, li").prev().find("[fromdate]").attr("fromdate"),!r().validationMethods[a](n)&&!r().validationMethods[t](d))))return n=new Date(n),d=new Date(d),n>d?!1:(i.fieldError="To Date cannot be less than From Date",!0)}};var n=function(r){var e;return-1!=r.indexOf(".")?e=r.split("."):-1!=r.indexOf("/")?e=r.split("/"):-1!=r.indexOf("-")&&(e=r.split("-")),e};r.fn.isInvalid=function(r,e){return r.test(e)?!1:!0};var o=function(e){r(e).siblings("span").remove(),i.fieldError=""},d=function(e,a){var t=r(e).val().trim(),n=r(e).prev("label").text(),d="",s=r(e).attr(a.attrUsed);if(""==t){if("true"!=r(e).attr("isRequired"))return;0==r(e).next("span").length&&(d='<span class= "error" style = "color : red; margin-left : 10px; font-size: 12px">'+i.mandatoryError+n+" field</span>"),i.hasError=!0}else if(""!=t){if(o(e),"password"==s?(i.hasError=r().validationMethods.password(t),i.fieldError="Password should contain atleast 6 characters,  1 lowercase, 1 uppercase and 1 number"):"email"==s?(i.hasError=r().validationMethods.email(t),i.fieldError="Please enter a valide email"):"number"==s?(i.hasError=r().validationMethods.number(t),i.fieldError="Please enter numbers only"):"telephone"==s?(i.hasError=r().validationMethods.telephone(t),i.fieldError="Please enter 10 digit number"):"alphanumeric"==s?(i.hasError=r().validationMethods.alphaNumeric(t),i.fieldError="Please enter only alphabets and numbers"):"alphaNumericWithSpecialChar"==s?(i.hasError=r().validationMethods.alphaNumericWithSpecialChar(t),i.fieldError="There are errors in the field"):"address"==s?(i.hasError=r().validationMethods.address(t),i.fieldError="Please use only , . - as special characters"):"url"==s?(i.hasError=r().validationMethods.url(t),i.fieldError="Please enter a valid url"):"ddmmyyyy"==s?(i.hasError=r().validationMethods.ddmmyyyy(t),i.fieldError="Please enter a valid date"):"mmddyyyy"==s?(i.hasError=r().validationMethods.mmddyyyy(t),i.fieldError="Please enter a valid date"):"yyyymmdd"==s?(i.hasError=r().validationMethods.yyyymmdd(t),i.fieldError="Please enter a valid date"):"dateRange"==s&&(i.hasError=r().validationMethods.dateRange(e)),a.custFunc.length>0)for(var l=0;l<a.custFunc.length;l++)a.custFunc[l].attributeVal==s&&(i.hasError=r().validationMethods[a.custFunc[l].funcName](t),i.fieldError=a.custFunc[l].fieldError);i.hasError?d='<span class = "error" style = "color : red; margin-left : 10px; font-size : 12px"> '+i.fieldError+" </span>":o(e)}if(""!=d&&r(e).after(d),i.hasError){a.focusFirstField&&r(".error:first").siblings("input").focus();var u=r(".error:first").siblings("input").position().top-20;a.scroll&&r("html, body").animate({scrollTop:u},500)}}}(jQuery);
